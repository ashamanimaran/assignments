<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
   <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <script>
        var books = [{
            'author': 'Richard Dawkins'
            , 'book': 'The God delusion'
        }, {
            'author': 'Richard Feynman'
            , 'book': 'surely you are joking Mr.Feynman'
        }, {
            'author': 'Paul Boland'
            , 'book': 'The God particle'
        }, {
            'author': 'Richard Dawkins'
            , 'book': 'The Anecestor tale'
        }, {
            'author': 'Stephen Hawking'
            , 'book': 'A brief history of time'
        }, {
            'author': 'Richard Dawkins'
            , 'book': 'The selfish gene'
        }, {
            'author': 'Richard Feynman'
            , 'book' : 'the Quotable Feynman'
        }, {
            'author': 'Stephen Hawking'
            , 'book': 'The Grand design'
        }];
        window.onload = function () {
            var tbl = document.getElementById("tbody");
            books.forEach(function (item) {
                var tr = document.createElement('tr');
                var td1 = document.createElement('td');
                var tn1 = document.createTextNode(item.author);
                td1.appendChild(tn1);
                var td2 = document.createElement('td');
                var tn2 = document.createTextNode(item.book);
                td2.appendChild(tn2);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tbl.appendChild(tr);
            });
        };
    </script>
    <script>
        function findMax(){
          var authorCount= _.countBy(books,'author');
            var maxCount=_.max(authorCount);
            var countAuthor=_.invert(authorCount);
           var maxCountObject=_.pick(countAuthor,maxCount);
            var result=_.values(maxCountObject);
    console.log(result);
       document.getElementById("result").appendChild(document.createTextNode(result));
        }
    </script>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<body>
    <div class="container">

<div class="col-xs-4">
        <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>author</th>
                <th>book</th>
            </tr>
        </thead>
            <tbody id="tbody">
            </tbody>
        </table>
<button type="button" class="btn btn-info" onclick="findMax()">Get author with maximum book published</button>
<div class="well" id="result">

</div>

</div>
</div>
</body>

</html>
<!--1.Question:Write a function that by a given array of books finds the student with highest book-->